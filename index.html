<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ScaleShield — Agency Infrastructure</title>

<style>
:root{
  --bg:#07080B;
  --bg2:#0D0F18;
  --panel:rgba(255,255,255,.05);
  --border:rgba(255,255,255,.08);
  --border2:rgba(255,255,255,.12);

  --gold:#D6B15E;
  --gold2:#F2D27A;

  --text:#ffffff;
  --muted:rgba(255,255,255,.65);
  --muted2:rgba(255,255,255,.45);

  --radius:22px;
  --ease:cubic-bezier(.2,.8,.2,1);
}

*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  background:
    radial-gradient(900px circle at 50% -20%, rgba(214,177,94,.16), transparent 55%),
    radial-gradient(800px circle at 85% 5%, rgba(56,189,248,.08), transparent 60%),
    radial-gradient(800px circle at 10% 30%, rgba(168,85,247,.07), transparent 60%),
    linear-gradient(135deg,#050507,#0b0d14,#090a10);
  color:var(--text);
  overflow-x:hidden;
}

a{color:inherit;text-decoration:none}
b{color:rgba(255,255,255,.92)}

section{
  max-width:1200px;
  margin:auto;
  padding:88px 24px;
}

h1{
  font-size:50px;
  font-weight:900;
  letter-spacing:-.03em;
  line-height:1.06;
}
h2{
  font-size:38px;
  font-weight:850;
  letter-spacing:-.02em;
}
h3{
  font-size:18px;
  font-weight:850;
}
p{
  color:var(--muted);
  line-height:1.7;
  margin-top:14px;
}

.kicker{
  display:flex;
  align-items:center;
  gap:10px;
  margin-bottom:12px;
  color:var(--muted2);
  font-size:12px;
  letter-spacing:.22em;
  font-weight:950;
  text-transform:uppercase;
}
.kdot{
  width:8px;height:8px;border-radius:999px;
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  box-shadow:0 0 18px rgba(214,177,94,.22);
}

.grad{
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
}

/* NAV */
.nav{
  position:fixed;
  top:0;left:0;right:0;
  backdrop-filter:blur(14px);
  background:rgba(5,5,7,.65);
  border-bottom:1px solid rgba(255,255,255,.06);
  z-index:100;
}
.nav-inner{
  max-width:1200px;
  margin:auto;
  padding:16px 24px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:14px;
}
.logo{
  font-weight:950;
  font-size:20px;
}
.logo span{
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
}
.nav-links{
  display:none;
  gap:18px;
  align-items:center;
}
.nav-links a{
  font-size:13px;
  font-weight:750;
  color:var(--muted);
  transition:color .18s var(--ease);
}
.nav-links a:hover{color:#fff}
@media(min-width:980px){ .nav-links{display:flex} }

/* Buttons */
.btn{
  padding:14px 22px;
  border-radius:16px;
  font-weight:900;
  transition:.25s var(--ease);
  display:inline-flex;
  align-items:center;
  gap:10px;
  border:1px solid transparent;
  user-select:none;
  white-space:nowrap;
}
.btn-primary{
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  color:#111;
  box-shadow:0 0 40px rgba(214,177,94,.20);
}
.btn-primary:hover{transform:translateY(-3px);filter:brightness(1.02)}
.btn-ghost{
  background:rgba(255,255,255,.05);
  border-color:rgba(255,255,255,.12);
  color:#fff;
}
.btn-ghost:hover{
  transform:translateY(-2px);
  border-color:rgba(214,177,94,.35);
  box-shadow:0 0 30px rgba(214,177,94,.12);
}
.btn-whatsapp{
  background:rgba(34,197,94,.12);
  border-color:rgba(34,197,94,.25);
  color:#fff;
}
.btn-whatsapp:hover{
  transform:translateY(-2px);
  border-color:rgba(34,197,94,.45);
  box-shadow:0 0 26px rgba(34,197,94,.18);
}

/* Cards */
.card{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:28px;
  transition:.30s var(--ease);
  position:relative;
  overflow:hidden;
}
.card::after{
  content:"";
  position:absolute;
  inset:-2px;
  background:radial-gradient(800px circle at 50% 0%, rgba(214,177,94,.16), transparent 55%);
  opacity:0;
  transition:opacity .28s var(--ease);
  pointer-events:none;
}
.card:hover::after{opacity:1}
.card:hover{
  transform:translateY(-4px);
  border-color:rgba(214,177,94,.40);
  box-shadow:0 0 55px rgba(214,177,94,.12);
}

.grid-3{display:grid;gap:24px}
@media(min-width:900px){ .grid-3{grid-template-columns:repeat(3,1fr)} }

.grid-4{display:grid;gap:24px}
@media(min-width:1100px){ .grid-4{grid-template-columns:repeat(4,1fr)} }

.badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:9px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.04);
  color:var(--muted);
  font-size:12px;
  font-weight:850;
}
.badge strong{color:#fff}

/* Hero */
.hero{
  padding-top:170px;
  padding-bottom:34px;
  text-align:center;
}
.hero-sub{
  max-width:78ch;
  margin:16px auto 0 auto;
}
.hero-actions{
  margin-top:28px;
  display:flex;
  gap:12px;
  justify-content:center;
  flex-wrap:wrap;
}
.hero-strip{
  margin-top:22px;
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  gap:10px;
}

/* Mini feature chips */
.chip{
  display:inline-flex;
  align-items:center;
  gap:10px;
  padding:10px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.04);
  color:var(--muted);
  font-size:12px;
  font-weight:850;
  transition:transform .18s var(--ease), border-color .18s var(--ease), box-shadow .18s var(--ease);
}
.chip:hover{
  transform:translateY(-1px);
  border-color:rgba(214,177,94,.35);
  box-shadow:0 0 24px rgba(214,177,94,.10);
}
.chip .dot{
  width:10px;height:10px;border-radius:999px;
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  box-shadow:0 0 16px rgba(214,177,94,.18);
}

/* Stats */
.stat{
  font-size:44px;
  font-weight:950;
  letter-spacing:-.02em;
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
}

/* Pricing */
.price{
  font-size:40px;
  font-weight:950;
  letter-spacing:-.02em;
  margin-top:12px;
}
.most{
  position:absolute;
  top:18px;
  right:18px;
  padding:8px 12px;
  border-radius:999px;
  font-size:12px;
  font-weight:950;
  color:#111;
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  box-shadow:0 0 30px rgba(214,177,94,.20);
}
.ul{
  margin-top:14px;
  display:grid;
  gap:10px;
}
.li{
  display:flex;
  gap:10px;
  align-items:flex-start;
  color:var(--muted);
  font-size:13px;
  line-height:1.55;
}
.check{
  width:20px;height:20px;border-radius:999px;
  display:grid;place-items:center;
  background:rgba(214,177,94,.10);
  border:1px solid rgba(214,177,94,.18);
  box-shadow:0 0 18px rgba(214,177,94,.10);
  flex:0 0 auto;
  margin-top:1px;
}
.check svg{width:14px;height:14px}

/* Reveal */
.reveal{opacity:0;transform:translateY(30px);transition:.85s var(--ease)}
.reveal.active{opacity:1;transform:none}

/* Footer */
footer{
  border-top:1px solid rgba(255,255,255,.06);
  padding:42px 24px;
  text-align:center;
  color:var(--muted);
}

/* Floating CTA */
.float{
  position:fixed;
  right:16px;
  bottom:16px;
  z-index:120;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.float a{
  box-shadow:0 14px 48px -30px rgba(0,0,0,.85), 0 0 40px rgba(214,177,94,.12);
}
</style>
</head>

<body>

<div class="nav">
  <div class="nav-inner">
    <div style="display:flex;align-items:center;gap:16px;">
      <div class="logo"><span>ScaleShield</span></div>
      <div class="nav-links">
        <a href="#stats">Stats</a>
        <a href="#verticals">Verticals</a>
        <a href="#graph">Graph</a>
        <a href="#pricing">Pricing</a>
        <a href="#reviews">Reviews</a>
        <a href="#faq">FAQ</a>
        <a href="#contact">Contact</a>
        <a href="payment.html" target="_blank" rel="noopener">Payment Details</a>
        <a href="login.html" target="_blank" rel="noopener">Log In</a>
      </div>
    </div>

    <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
      <a href="https://t.me/scaleshieldsupport" target="_blank" class="btn btn-primary">Telegram</a>
      <a href="https://wa.me/16087204445" target="_blank" class="btn btn-ghost btn-whatsapp">WhatsApp</a>
    </div>
  </div>
</div>

<!-- HERO -->
<section class="hero">
  <div class="reveal">
    <div class="kicker"><span class="kdot"></span> RELIABLE META INFRASTRUCTURE</div>
    <h1>Scale Meta with <span class="grad">Premium</span> agency infrastructure.</h1>
    <p class="hero-sub">
      Stable access, fast onboarding, and <b>unlimited replacements</b> — built for teams that don’t want downtime.
    </p>

    <div class="hero-actions">
      <a href="#pricing" class="btn btn-primary">View Pricing</a>
      <a href="https://t.me/scaleshieldsupport" target="_blank" class="btn btn-ghost">Telegram</a>
      <a href="https://wa.me/16087204445" target="_blank" class="btn btn-ghost btn-whatsapp">WhatsApp</a>
    </div>

    <div class="hero-strip">
      <div class="chip"><span class="dot"></span> Launch without delays</div>
      <div class="chip"><span class="dot"></span> Always-on support (24/7)</div>
      <div class="chip"><span class="dot"></span> Replacement-ready</div>
      <div class="chip"><span class="dot"></span> Secure onboarding</div>
    </div>
  </div>
</section>

<!-- STATS -->
<section id="stats">
  <div class="reveal">
    <div class="kicker"><span class="kdot"></span> PROOF</div>
    <h2>Scale Metrics</h2>
    <p>High-level performance indicators (animated).</p>
  </div>

  <div class="grid-3" style="margin-top:30px;">
    <div class="card reveal">
      <div class="stat count" data-value="200" data-type="moneyM">$0M+</div>
      <p>Ad Spend Managed</p>
    </div>
    <div class="card reveal">
      <div class="stat count" data-value="300" data-type="plus">0+</div>
      <p>Active Clients</p>
    </div>
    <div class="card reveal">
      <div class="stat count" data-value="16100" data-type="k">0.0K</div>
      <p>Campaigns Monitored</p>
    </div>
  </div>

  <div class="card reveal" style="margin-top:24px;">
    <div class="grid-3" style="gap:18px;">
      <div>
        <div class="badge"><strong>24/7</strong>&nbsp;Support coverage</div>
        <p style="margin-top:10px;">Fast help for setup, access, approvals guidance, and troubleshooting.</p>
      </div>
      <div>
        <div class="badge"><strong>Unlimited</strong>&nbsp;Replacements</div>
        <p style="margin-top:10px;">If something breaks, we swap it — so campaigns keep running.</p>
      </div>
      <div>
        <div class="badge"><strong>Secure</strong>&nbsp;Onboarding</div>
        <p style="margin-top:10px;">Clear steps, clean handoff, stable structure — minimal friction.</p>
      </div>
    </div>
  </div>
</section>

<!-- VERTICALS -->
<section id="verticals">
  <div class="reveal">
    <div class="kicker"><span class="kdot"></span> VERTICAL FOCUS</div>
    <h2>Neutral, Gambling/iGaming, and policy-sensitive verticals</h2>
    <p>
      We support teams across <b>Neutral</b> and <b>iGaming/Gambling</b> — and for <b>policy-sensitive gray verticals</b>,
      we focus on <b>reliability, monitoring, and fast replacements</b>.
    </p>
  </div>

  <div class="grid-3" style="margin-top:30px;">
    <div class="card reveal">
      <h3>Neutral verticals</h3>
      <div class="ul">
        <div class="li"><div class="check"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg></div><span>Ecom, lead gen, apps, content</span></div>
        <div class="li"><div class="check"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg></div><span>Steady scaling & clean testing</span></div>
      </div>
    </div>

    <div class="card reveal">
      <h3>Gambling / iGaming</h3>
      <div class="ul">
        <div class="li"><div class="check"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg></div><span>High velocity operations</span></div>
        <div class="li"><div class="check"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg></div><span>Monitoring + fast replacements</span></div>
      </div>
    </div>

    <div class="card reveal">
      <h3>Gray / policy-sensitive</h3>
      <p style="margin-top:12px;">
        We focus on <b>structure, reliability, monitoring, and rapid replacement</b>.
        (We do not provide “how to break rules” guidance.)
      </p>
      <div class="ul">
        <div class="li"><div class="check"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg></div><span>Risk-managed operations</span></div>
        <div class="li"><div class="check"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg></div><span>Incident response + support</span></div>
      </div>
    </div>
  </div>
</section>

<!-- GRAPH -->
<section id="graph">
  <div class="reveal">
    <div class="kicker"><span class="kdot"></span> SCALING VISUAL</div>
    <h2>Vertical Performance graph</h2>
  </div>

  <div class="grid-3" style="margin-top:30px;">
    <div class="card reveal" style="grid-column:1/-1; padding:18px;">
      <div style="border-radius:18px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.03);overflow:hidden;position:relative;">
        <canvas id="verticalChart" width="1100" height="320" style="width:100%;height:320px;display:block"></canvas>
      </div>
      <p style="margin-top:10px;color:var(--muted2);font-size:12px;line-height:1.5">
        Visualization is illustrative for marketing/education. Values show scaling patterns, not client-specific data.
      </p>
    </div>
  </div>
</section>

<!-- PRICING -->
<section id="pricing">
  <div class="reveal">
    <div class="kicker"><span class="kdot"></span> PRICING</div>
    <h2>Packages</h2>
    <p>Monthly packages include 24/7 support and unlimited replacements.</p>
  </div>

  <div class="grid-4" style="margin-top:30px;">
    <div class="card reveal">
      <h3>BM3 Package</h3>
      <div class="price">$199</div>
      <p>/month • BM3 with $50 daily spend limit, 3 ad accounts</p>
      <div class="ul">
        <div class="li"><div class="check"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg></div><span>Controlled testing & scaling</span></div>
        <div class="li"><div class="check"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg></div><span>24/7 support + replacements included</span></div>
      </div>
      <div style="margin-top:18px;display:flex;gap:10px;flex-wrap:wrap;">
        <a class="btn btn-primary" href="https://t.me/scaleshieldsupport" target="_blank">Telegram</a>
        <a class="btn btn-ghost btn-whatsapp" href="https://wa.me/16087204445" target="_blank">WhatsApp</a>
      </div>
    </div>

    <div class="card reveal">
      <h3>Single Agency Ad Account</h3>
      <div class="price">$450</div>
      <p>/month • 24/7 support and unlimited replacements</p>
      <div class="ul">
        <div class="li"><div class="check"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg></div><span>1 agency ad account</span></div>
        <div class="li"><div class="check"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg></div><span>Unlimited replacements</span></div>
      </div>
      <div style="margin-top:18px;display:flex;gap:10px;flex-wrap:wrap;">
        <a class="btn btn-primary" href="https://t.me/scaleshieldsupport" target="_blank">Telegram</a>
        <a class="btn btn-ghost btn-whatsapp" href="https://wa.me/16087204445" target="_blank">WhatsApp</a>
      </div>
    </div>

    <div class="card reveal" style="border-color:rgba(214,177,94,.28);">
      <div class="most">Most Popular</div>
      <h3>Dual Agency Ad Accounts</h3>
      <div class="price">$850</div>
      <p>/month • 24/7 support and unlimited replacements</p>
      <div class="ul">
        <div class="li"><div class="check"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg></div><span>2 agency ad accounts</span></div>
        <div class="li"><div class="check"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg></div><span>Ideal for teams running multiple offers</span></div>
      </div>
      <div style="margin-top:18px;display:flex;gap:10px;flex-wrap:wrap;">
        <a class="btn btn-primary" href="https://t.me/scaleshieldsupport" target="_blank">Telegram</a>
        <a class="btn btn-ghost btn-whatsapp" href="https://wa.me/16087204445" target="_blank">WhatsApp</a>
      </div>
    </div>

    <div class="card reveal">
      <h3>Top Agency Package</h3>
      <div class="price">$1,950</div>
      <p>/month • 24/7 support and unlimited replacements</p>
      <div class="ul">
        <div class="li"><div class="check"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg></div><span>Premium agency access</span></div>
        <div class="li"><div class="check"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg></div><span>Best for aggressive scaling</span></div>
      </div>
      <div style="margin-top:18px;display:flex;gap:10px;flex-wrap:wrap;">
        <a class="btn btn-primary" href="https://t.me/scaleshieldsupport" target="_blank">Telegram</a>
        <a class="btn btn-ghost btn-whatsapp" href="https://wa.me/16087204445" target="_blank">WhatsApp</a>
      </div>
    </div>
  </div>
</section>

<!-- REVIEWS -->
<section id="reviews">
  <div class="reveal">
    <div class="kicker"><span class="kdot"></span> REVIEWS</div>
    <h2>What clients say</h2>
    <p>Generated testimonials to show typical use cases and outcomes.</p>
  </div>

  <div class="grid-3" style="margin-top:30px;">
    <div class="card reveal">
      <div class="badge"><strong>24/7</strong>&nbsp;support</div>
      <p style="margin-top:12px;">“Replacements are real. We got swapped quickly with no downtime panic.”</p>
      <p style="margin-top:10px;color:var(--muted2);font-size:12px;">Ecom • EU</p>
    </div>
    <div class="card reveal">
      <div class="badge"><strong>Fast</strong>&nbsp;setup</div>
      <p style="margin-top:12px;">“Clean onboarding. Clear handoff, we launched fast without back-and-forth.”</p>
      <p style="margin-top:10px;color:var(--muted2);font-size:12px;">Lead Gen Agency</p>
    </div>
    <div class="card reveal">
      <div class="badge"><strong>High</strong>&nbsp;velocity</div>
      <p style="margin-top:12px;">“For iGaming speed, response time matters. We get answers fast.”</p>
      <p style="margin-top:10px;color:var(--muted2);font-size:12px;">iGaming Ops</p>
    </div>
  </div>
</section>

<!-- FAQ -->
<section id="faq">
  <div class="reveal">
    <div class="kicker"><span class="kdot"></span> FAQ</div>
    <h2>Quick answers</h2>
    <p>If you don’t see your question here, message support and we’ll respond fast.</p>
  </div>

  <div class="card reveal" style="margin-top:26px;">
    <p><b>Do all monthly packages include unlimited replacements?</b><br><span style="color:var(--muted)">Yes — monthly packages include 24/7 support and unlimited replacements.</span></p>
    <p style="margin-top:14px;"><b>How fast can we start?</b><br><span style="color:var(--muted)">Usually same day. Message us and we’ll guide the cleanest setup steps.</span></p>
    <p style="margin-top:14px;"><b>Do you support iGaming / Gambling verticals?</b><br><span style="color:var(--muted)">Operational support (setup, reliability, monitoring, replacements). We don’t provide instructions to break platform rules.</span></p>
  </div>
</section>

<!-- CONTACT -->
<section id="contact">
  <div class="card reveal">
    <div class="kicker"><span class="kdot"></span> CONTACT</div>
    <h2>Talk to ScaleShield Support</h2>
    <p>Fast responses. Setup, approvals guidance, scaling, replacements — 24/7.</p>
    <div style="margin-top:22px; display:flex; gap:12px; flex-wrap:wrap;">
      <a href="https://t.me/scaleshieldsupport" target="_blank" class="btn btn-primary">Telegram</a>
      <a href="https://wa.me/16087204445" target="_blank" class="btn btn-ghost btn-whatsapp">WhatsApp</a>
      <a href="payment.html" target="_blank" rel="noopener" class="btn btn-ghost">Payment Details</a>
      <a href="login.html" target="_blank" rel="noopener" class="btn btn-ghost">Log In</a>
    </div>
  </div>
</section>

<footer>
© <span id="year"></span> ScaleShield — All rights reserved.
</footer>

<div class="float">
  <a href="https://t.me/scaleshieldsupport" target="_blank" class="btn btn-primary">Telegram</a>
  <a href="https://wa.me/16087204445" target="_blank" class="btn btn-ghost btn-whatsapp">WhatsApp</a>
</div>

<script>
/* year */
document.getElementById("year").textContent = new Date().getFullYear();

/* scroll reveal */
const elements = document.querySelectorAll('.reveal');
const observer = new IntersectionObserver((entries)=>{
  entries.forEach(e=>{
    if(e.isIntersecting){
      e.target.classList.add('active');
      observer.unobserve(e.target);
    }
  });
},{threshold:.18});
elements.forEach(el=>observer.observe(el));

/* counters */
function formatCount(type, n){
  if(type === "moneyM") return "$" + n.toLocaleString() + "M+";
  if(type === "plus") return n.toLocaleString() + "+";
  if(type === "k") return (n/1000).toFixed(1) + "K";
  return n.toLocaleString();
}
function animateCount(el,target,type){
  const start = performance.now();
  const duration = 1200;
  function tick(now){
    const t = Math.min(1,(now-start)/duration);
    const eased = 1 - Math.pow(1-t,3);
    const val = Math.round(target*eased);
    el.textContent = formatCount(type,val);
    if(t<1) requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);
}
document.querySelectorAll('.count').forEach(el=>{
  const value = parseInt(el.dataset.value,10);
  const type = el.dataset.type || "";
  const io = new IntersectionObserver((entries)=>{
    if(entries[0].isIntersecting){
      animateCount(el,value,type);
      io.disconnect();
    }
  },{threshold:.35});
  io.observe(el);
});

/* ===== Animated Chart (Neutral vs iGaming) ===== */
const canvas = document.getElementById("verticalChart");
const ctx = canvas.getContext("2d");

function resizeCanvas(){
  const dpr = window.devicePixelRatio || 1;
  const rect = canvas.getBoundingClientRect();
  canvas.width = Math.round(rect.width * dpr);
  canvas.height = Math.round(320 * dpr);
  canvas.style.height = "320px";
  ctx.setTransform(dpr,0,0,dpr,0,0);
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

function drawChart(progress){
  const w = canvas.getBoundingClientRect().width;
  const h = 320;

  ctx.clearRect(0,0,w,h);

  const padL = 44, padR = 18, padT = 20, padB = 34;
  const cw = w - padL - padR;
  const ch = h - padT - padB;

  ctx.globalAlpha = 1;
  ctx.strokeStyle = "rgba(255,255,255,0.14)";
  ctx.lineWidth = 1;

  const rows = 5;
  for(let i=0;i<=rows;i++){
    const y = padT + (ch/rows)*i;
    ctx.beginPath(); ctx.moveTo(padL,y); ctx.lineTo(padL+cw,y); ctx.stroke();
  }

  ctx.fillStyle = "rgba(255,255,255,0.55)";
  ctx.font = "12px Inter, system-ui";
  const maxVal = 100;
  for(let i=0;i<=rows;i++){
    const v = Math.round(maxVal - (maxVal/rows)*i);
    const y = padT + (ch/rows)*i;
    ctx.fillText(v.toString(), 8, y+4);
  }

  const labels = ["W1","W2","W3","W4","W5","W6","W7"];
  for(let i=0;i<labels.length;i++){
    const x = padL + (cw/(labels.length-1))*i;
    ctx.fillText(labels[i], x-10, padT+ch+24);
  }

  const neutral = [12, 18, 26, 35, 44, 52, 60];
  const igaming  = [10, 22, 34, 50, 68, 82, 95];

  function toXY(arr, i){
    const x = padL + (cw/(arr.length-1))*i;
    const y = padT + ch - (arr[i]/maxVal)*ch;
    return {x,y};
  }

  function drawLine(arr, stroke, glow){
    const points = arr.map((_,i)=>toXY(arr,i));
    const totalSegments = points.length - 1;
    const segFloat = progress * totalSegments;
    const segFull = Math.floor(segFloat);
    const segPart = segFloat - segFull;

    ctx.save();
    ctx.lineWidth = 2.5;
    ctx.strokeStyle = stroke;
    ctx.shadowBlur = 18;
    ctx.shadowColor = glow;

    ctx.beginPath();
    ctx.moveTo(points[0].x, points[0].y);

    for(let i=1;i<=segFull;i++){
      ctx.lineTo(points[i].x, points[i].y);
    }
    if(segFull < totalSegments){
      const a = points[segFull];
      const b = points[segFull+1];
      ctx.lineTo(a.x + (b.x-a.x)*segPart, a.y + (b.y-a.y)*segPart);
    }
    ctx.stroke();
    ctx.restore();

    const visibleCount = Math.max(1, segFull + 1);
    for(let i=0;i<visibleCount;i++){
      const p = points[i];
      ctx.beginPath();
      ctx.fillStyle = stroke;
      ctx.globalAlpha = 0.95;
      ctx.arc(p.x,p.y,3.2,0,Math.PI*2);
      ctx.fill();
    }
    ctx.globalAlpha = 1;
  }

  drawLine(neutral, "rgba(242,210,122,0.95)", "rgba(214,177,94,0.22)");
  drawLine(igaming, "rgba(56,189,248,0.95)", "rgba(56,189,248,0.18)");

  ctx.fillStyle = "rgba(255,255,255,0.70)";
  ctx.font = "12px Inter, system-ui";
  ctx.fillText("Ad Spend Scaling (Illustrative Index)", padL, 14);
}

let chartStarted = false;
const chartObserver = new IntersectionObserver((entries)=>{
  if(entries[0].isIntersecting && !chartStarted){
    chartStarted = true;
    const start = performance.now();
    const duration = 1400;
    function step(now){
      const t = Math.min(1, (now-start)/duration);
      const eased = 1 - Math.pow(1-t,3);
      drawChart(eased);
      if(t<1) requestAnimationFrame(step);
    }
    requestAnimationFrame(step);
    chartObserver.disconnect();
  }
},{threshold:.25});

chartObserver.observe(document.getElementById("graph"));
drawChart(0);
</script>

</body>
</html>
